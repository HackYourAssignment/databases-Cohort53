## 1. Give an example of a malicious name and code value.

This function is vulnerable because it puts user input directly into the SQL string.

If somebody pass as `name`: `' OR 1=1 --`
And as `code`: `anything`
The query becomes:

```
SELECT Population FROM Country WHERE Name = '' OR 1=1 --' and code = 'anything'
```

And the -- makes the rest a comment, so it fetches all records.


## 2. Rewrite the function to use parameterized queries.
We need to use parameterized queries so user input is never directly inserted into the SQL string.

```
function getPopulation(Country, name, code, cb) {
  conn.query(
    `SELECT Population FROM ${Country} WHERE Name = $1 and code = $2`,
    [name, code],
    function (err, result) {
      if (err) cb(err);
      if (result.length == 0) cb(new Error("Not found"));
      cb(null, result[0].Population);
    }
  );
}
```

This way, the database will treat name and code as values, not as part of the SQL code.